# Компилятор для учебного языка

## Запуск через Docker:

```bash
# Собрать образ
docker build -t my-compiler .

# Запустить с тестами по умолчанию
docker run my-compiler

# Запустить со своим файлом из директории code (program.txt замените на ваш)
docker run -v ${PWD}/code:/app/code my-compiler /app/code/program.txt
```

## Описание языка

Язык представляет собой упрощённый процедурный язык программирования с функциями. Позволяет писать объявления и вызовы функций (функции должны быть определены в самом предложении либо входить в список «априори-существующих», например `print()`). Вызов объявленной функции возможен в любой части программы, даже до её объявления.

### Что входит в язык:

* Объявление функций с возвращаемыми типами `void` и `int`
* Параметры функций с типами
* Вызов функций
* Инструкция возврата `return`
* Арифметические выражения с операторами `+` и `-`
* Числовые литералы и идентификаторы

### Что не входит в язык:

* Переменные и их объявление
* Присваивание значений
* Условные операторы
* Циклы
* Сложные типы данных
* Комментарии

### Примеры программ

**Пример 1**

```c
int add(int a, int b) { return a + b; } 
add(5, 3);
```

**Пример 2**

```c
void greet() { printHello(); } 
greet();
```

**Пример 3**

```c
int process(int y) { return y - 2; } 
int calculate(int x) { return x + process(x); } 
calculate(10); 
calculate(5);
```

**Пример 4**

```c
int helper(int b) { return b + 2; } 
int complex(int a) { return helper(a) + 1; } 
complex(helper(3));
```

**Пример 5**

```c
void logMessage() { print(); } 
logMessage();
```

### Терминалы и токены

* **Ключевые слова**: `void`, `int`, `return`
* **Разделители**: `(`, `)`, `{`, `}`, `;`, `,`
* **Операторы**: `+`, `-`
* **Токены**:

  * `НАЗВАНИЕ` — последовательность букв и цифр, начинающаяся с буквы, без пробелов
  * `ЧИСЛО` — последовательность цифр (либо `0`, либо не начинается с `0`)

### Грамматика G

```
<программа> ::= <элемент программы> | <программа> <элемент программы>

<элемент программы> ::= <объявление функции> | <вызов функции> ";"

<объявление функции> ::= <тип> НАЗВАНИЕ "(" <список параметров> ")" "{" <список инструкций> "}"
                      | <тип> НАЗВАНИЕ "(" <список параметров> ")" "{" "}"

<тип> ::= "void" | "int"

<список параметров> ::= <параметр> { "," <параметр> }
<параметр> ::= <тип> НАЗВАНИЕ

<список инструкций> ::= <return-инструкция>
                      | <инструкция>
                      | <инструкция> <список инструкций>
<инструкция> ::= <вызов функции> ";"
<return-инструкция> ::= "return" <выражение> ";" | "return" ";"

<вызов функции> ::= НАЗВАНИЕ "(" <список аргументов> ")"
<список аргументов> ::= <выражение> { "," <выражение> }

<выражение> ::= НАЗВАНИЕ
              | ЧИСЛО
              | <вызов функции>
              | <выражение> <оператор> <выражение>

<оператор> ::= "+" | "-"
```
